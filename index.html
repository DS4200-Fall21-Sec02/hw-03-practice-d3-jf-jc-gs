<!DOCTYPE html>
<html lang='en'>

<!-- Metadata -->
<head>
  <meta charset='utf-8'>

  <!-- Title -->
  <title>hw-03: Practicing D3</title>

  <!-- CSS Styling -->
  <link rel='stylesheet' href='style.css'>

  <!-- Favicons -->
  <link rel='apple-touch-icon' sizes='180x180' href='favicons/apple-touch-icon.png'>
  <link rel='icon' type='image/png' sizes='32x32' href='favicons/favicon-32x32.png'>
  <link rel='icon' type='image/png' sizes='16x16' href='favicons/favicon-16x16.png'>
  <link rel='manifest' href='favicons/site.webmanifest'>
  <link rel='shortcut icon' href='favicons/favicon.ico'>
  <meta name='msapplication-TileColor' content='#da532c'>
  <meta name='msapplication-config' content='favicons/browserconfig.xml'>
  <meta name='theme-color' content='#ffffff'>
</head>

<!-- Main page content -->
<body>

  <!-- Update this with your GitHub repo URL -->
  <span id='forkongithub'><a href='https://github.com/DS4200-Fall21-Sec02/hw-03-practice-d3-jf-jc-gs.git'>Fork me on GitHub</a></span>

  <!-- Writeup -->
  <div class='content-column'>
    <h1>hw-03: Practicing D3 Hello</h1>

    <p>
      Replace this text. Use this space to describe your visualizations.
    </p>

    <h2>Simple formatting instructions</h2>

    <p>
      Use <code>&lt;p&gt;&lt;/p&gt;</code> tags to enclose a paragraph in html. <br>
      Use <code>&lt;h2&gt;&lt;/h2&gt;</code> to enclose a heading. <br>
      Use <code>&lt;br&gt;</code> to force a line break.
    </p>

    <p>
      There are two premade <code>div</code> in this document that will hold your visualizations. The first one has id <code>vis1</code>, the second one has <code>vis2</code>. Write your explanation and analysis close to each of your visualizations.
    </p>

    <p>
      Your first visualization goes here:
    </p>

    <!-- Visualization goes here -->
    <div class='vis-holder' id='vis1'>
      <!-- Import D3 from github -->
      <head>
        <script src = 'https://d3js.org/d3.v3.min.js'></script>
      </head>

      <!-- Start visualization script -->
      <body>
        <script>
          
          d3.csv('data/covid_impact_on_airport_traffic.csv', function (data) {
            // Variables
            var body = d3.select('body')
            var margin = { top: 50, right: 50, bottom: 50, left: 50 }
            var h = 500 - margin.top - margin.bottom
            var w = 500 - margin.left - margin.right
            var formatPercent = d3.format('.2%')
            // Scales
            var colorScale = d3.scale.category20()
            var xScale = d3.scale.linear()
              .domain([
                d3.min([0,d3.min(data,function (d) { return d.Date })]),
                d3.max([0,d3.max(data,function (d) { return d.Date })])
                ])
              .range([0,w])
            var yScale = d3.scale.linear()
              .domain([
                d3.min([0,d3.min(data,function (d) { return d.PercentOfBaseline })]),
                d3.max([0,d3.max(data,function (d) { return d.PercentOfBaseline })])
                ])
              .range([h,0])
            // SVG
            var svg = body.append('svg')
                .attr('height',h + margin.top + margin.bottom)
                .attr('width',w + margin.left + margin.right)
              .append('g')
                .attr('transform','translate(' + margin.left + ',' + margin.top + ')')
            // X-axis
            var xAxis = d3.svg.axis()
              .scale(xScale)
              .tickFormat(formatPercent)
              .ticks(5)
              .orient('bottom')
            // Y-axis
            var yAxis = d3.svg.axis()
              .scale(yScale)
              .tickFormat(formatPercent)
              .ticks(5)
              .orient('left')
            // Circles
            var circles = svg.selectAll('circle')
                .data(data)
                .enter()
              .append('circle')
                .attr('cx',function (d) { return xScale(d.Date) })
                .attr('cy',function (d) { return yScale(d.PercentOfBaseline) })
                .attr('r','10')
                .attr('stroke','black')
                .attr('stroke-width',1)
                .attr('fill',function (d,i) { return colorScale(i) })
                .on('mouseover', function () {
                  d3.select(this)
                    .transition()
                    .duration(500)
                    .attr('r',20)
                    .attr('stroke-width',3)
                })
                .on('mouseout', function () {
                  d3.select(this)
                    .transition()
                    .duration(500)
                    .attr('r',10)
                    .attr('stroke-width',1)
                })
              .append('title') // Tooltip
                .text(function (d) { return d.variable +
                                     '\nReturn: ' + formatPercent(d.PercentOfBaseline) +
                                     '\nStd. Dev.: ' + formatPercent(d.Date) })
            // X-axis
            svg.append('g')
                .attr('class','axis')
                .attr('transform', 'translate(0,' + h + ')')
                .call(xAxis)
              .append('text') // X-axis Label
                .attr('class','label')
                .attr('y',-10)
                .attr('x',w)
                .attr('dy','.71em')
                .style('text-anchor','end')
                .text('Date')
            // Y-axis
            svg.append('g')
                .attr('class', 'axis')
                .call(yAxis)
              .append('text') // y-axis Label
                .attr('class','label')
                .attr('transform','rotate(-90)')
                .attr('x',0)
                .attr('y',5)
                .attr('dy','.71em')
                .style('text-anchor','end')
                .text('PercentOfBaseline')
          })  

        </script>



      </body>





    </div>

	  <p>
      Your second visualization goes here:
    </p>

    <!-- Visualization goes here -->
    <div class='vis-holder' id='vis2'></div>

    <h2>Acknowledgments</h2>

    <p>
      <em>List here where any code, packages/libraries, text, images, designs, etc. that you leverage come from.</em>
    </p>

    <ul>
      <li><a href='https://d3js.org/'>
        D3: Data-Driven Documents</a>
        by Mike Bostock is used for manipulating the DOM to create visualizations.
      </li>
      <li><a href='https://codepo8.github.io/css-fork-on-github-ribbon/#'>
        Pure CSS responsive 'Fork me on GitHub' ribbon</a>
        by Chris Heilmann is used to create the banner that links back to the source code repository.
      </li>
      <li><a href='https://github.com/NEU-DS-4200-F20-Staff/Assignment--D3_Basic_Charts'>
        Assignment--D3_Basic_Charts</a>
        by Cody Dunne is used to create this assignment.
      </li>
    </ul>
  </div>

  <!-- Scripts at the end avoid need for dealing with async, defer, or onload event handlers -->
</body>

</html>